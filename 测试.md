## ???????



## Â≠¶Áîü

### Êü•ÁúãÊâÄÊúâÂèØÈÄâËØæÁ®ã

```cpp
// -------------------------------------------TEST2-------------------------------------------
http::request<http::dynamic_body> req2{ http::verb::get, "/api/student_select/get_all", version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");
req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "read ok\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```



```json
{
    "courseObj": [
        {
            "college": "??????????",
            "courseName": "?????", 
            "credit": 4.0,
            "endWeek": 16,
            "location": "A1-402",
            "schedule": [
                {
                    "day": "??",
                    "time": "1-2?"
                }
            ],
            "section_id": "7",
            "selected": true,
            "semester": "2025?",
            "startWeek": 1,
            "teacher": "???"
        },
        {
            "college": "??????????",
            "courseName": "????",
            "credit": 4.0,
            "endWeek": 16,
            "location": "A2-302",
            "schedule": [
                {
                    "day": "??", 
                    "time": "3-4?"
                }
            ],
            "section_id": "8",
            "selected": true,
            "semester": "2025?",
            "startWeek": 1,
            "teacher": "????"
        },
        {
            "college": "??????????",
            "courseName": "???????",
            "credit": 4.0,
            "endWeek": 16,
            "location": "A3-202",
            "schedule": [
                {
                    "day": "??",
                    "time": "1-2?"
                }
            ],
            "section_id": "9", 
            "selected": false,
            "semester": "2025?",
            "startWeek": 1,
            "teacher": "???"
        }
    ],
    "result": true
}
```

schedule null Â∑≤Ëß£ÂÜ≥

### ÈÄâËØæ

Ëß£ÂÜ≥Â∑≤ÈÄâËØæÁ®ã‰πüËøîÂõû true

```cpp
// -------------------------------------------TEST2-------------------------------------------
http::request<http::dynamic_body> req2{ http::verb::post, "/api/student_select/submit", version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");
Json::Value postData;
postData["section_id"] = std::to_string(7);
beast::ostream(req2.body()) << postData.toStyledString();
req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "read ok\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```

```json
{
        "reason" : "Course Time Conflict",
        "result" : false
}
```

### ÈÄÄÈÄâËØæÁ®ãok

```cpp
// -------------------------------------------TEST2-------------------------------------------
http::request<http::dynamic_body> req2{ http::verb::post, "/api/student_select/cancel", version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");
Json::Value postData;
postData["section_id"] = std::to_string(9);
beast::ostream(req2.body()) << postData.toStyledString();
req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```



### Êü•ÁúãÊüêÂ≠¶ÊúüÁöÑËØæË°®

```cpp
// -------------------------------------------TEST2-------------------------------------------
std::string s = GetUTF8ForDatabase(L"/api/student_tableCheck/ask?semester=2025?");
std::cout << s << std::endl;
http::request<http::dynamic_body> req2{ http::verb::get, s, version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");

req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```



```json
{
    "result": true,
    "courseObj": [
        {
            "courseName": "???????",
            "credit": 3.0,
            "endWeek": 16,
            "location": "A1-401",
            "schedule": [
                {
                    "day": "??",
                    "time": "1-2?"
                }
            ],
            "startWeek": 1,
            "teacher": "???"
        },
        {
            "courseName": "????",
            "credit": 4.0,
            "endWeek": 16,
            "location": "A2-301",
            "schedule": [
                {
                    "day": "??",
                    "time": "3-4?"
                }
            ],
            "startWeek": 1,
            "teacher": "???"
        },
        {
            "courseName": "????",
            "credit": 5.0,
            "endWeek": 16,
            "location": "A3-201",
            "schedule": [
                {
                    "day": "??",
                    "time": "1-2?"
                }
            ],
            "startWeek": 1,
            "teacher": "???"
        },
        {
            "courseName": "????",
            "credit": 3.0,
            "endWeek": 16,
            "location": "A4-101",
            "schedule": [
                {
                    "day": "??",
                    "time": "5-6?"
                }
            ],
            "startWeek": 1,
            "teacher": "????"
        }
    ]
}
```

### Êü•ÁúãÊâÄÊúâÊàêÁª©

```cpp
// -------------------------------------------TEST2-------------------------------------------
std::string s = GetUTF8ForDatabase(L"/api/student_scoreCheck/ask");
std::cout << s << std::endl;
http::request<http::dynamic_body> req2{ http::verb::get, s, version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");

req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```



```json
{
    "result": true,
    "scoreObj": [
        {
            "course": "????",
            "credit": 3,
            "score": 88.0,
            "semester": "2025?",
            "teacher": "????"
        },
        {
            "course": "????",
            "credit": 5,
            "score": 92.0,
            "semester": "2025?",
            "teacher": "???"
        },
        {
            "course": "????",
            "credit": 4,
            "score": 78.0,
            "semester": "2025?",
            "teacher": "???"
        },
        {
            "course": "???????",
            "credit": 3,
            "score": 85.0,
            "semester": "2025?",
            "teacher": "???"
        }
    ]
}
```



### Êü•ÁúãÁª©ÁÇπ

```cpp
// -------------------------------------------TEST2-------------------------------------------
std::string s = GetUTF8ForDatabase(L"/api/student_scoreCheck/ask_gpa");
std::cout << s << std::endl;
http::request<http::dynamic_body> req2{ http::verb::get, s, version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");

req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```

```json
{
        "myGpa" : 3.6133329999999999,
        "result" : true
}
```



### Êü•Áúã‰∏™‰∫∫‰ø°ÊÅØ

```cpp
std::string s = GetUTF8ForDatabase(L"/api/student_infoCheck/ask");
std::cout << s << std::endl;
http::request<http::dynamic_body> req2{ http::verb::get, s, version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");

req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```

birthday?MysqlÂÜÖÈÉ®ËΩ¨Êç¢Êàêstr

```cpp
{
    "birthday": "?", "2003-05-15"
    "college": "??????????",
    "email": "zhangsan@example.com",
    "gender": "?",
    "grade": 2021,
    "id": "1",
    "major": "????????",
    "name": "??",
    "phone": "13800138001",
    "user_id": "1"
}
```



### ‰øÆÊîπ‰∏™‰∫∫‰ø°ÊÅØ

```cpp
// -------------------------------------------TEST2-------------------------------------------
std::string s = GetUTF8ForDatabase(L"/api/student_infoCheck/modify");
std::cout << s << std::endl;
http::request<http::dynamic_body> req2{ http::verb::post, s, version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");
Json::Value postData;
postData["birthday"] = std::string("2005-01-29");
postData["email"] = std::string("baobaobus@gmail.com");
postData["phone"] = std::string("13537850159");
postData["password"] = std::string("student1");
beast::ostream(req2.body()) << postData.toStyledString();
req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```

## ÊïôÊéà

### Êü•ÁúãÊüêÂ≠¶ÊúüÁöÑËØæÁ®ã

```cpp
 std::string s = GetUTF8ForDatabase(L"/api/teacher_tableCheck/ask?semester=2025Êò•");
	std::cout << s << std::endl;
 http::request<http::dynamic_body> req2{ http::verb::get, s, version };
 req2.set(http::field::host, host);
 req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
 req2.set(http::field::content_type, "application/json");
 req2.set(http::field::accept, "application/json");
 req2.set(http::field::connection, "keep-alive");

 req2.prepare_payload();
 http::write(stream, req2);

 // Receive the HTTP response
 res.body().clear();
 http::read(stream, buffer, res);
 std::cout << "\n";
	std::string body = beast::buffers_to_string(res.body().data());
 // Write the message to standard out
 std::cout << body << std::endl;
```

Â¶ÇÊûúÊ≤°ÈááÁî®ÔºüÂ±ÖÁÑ∂Êä•Èîô‰∫Ü

```cpp
mysqlx::Session sess = MysqlConnectionPool::Instance().GetSession();
mysqlx::RowResult res = sess.sql("CALL ins_get_teaching_sections(?, ?)")
	.bind(id).bind(semester).execute();
sess.close();
```

```cpp
{
    "courseObj": [
        {
            "courseName": "ËÆ°ÁÆóÊú∫ÁßëÂ≠¶ÂØºËÆ∫",
            "credit": 3.0,
            "endWeek": 16,
            "instructor": "Âº†ÊïôÊéà",
            "location": "A1-401",
            "schedule": [
                {
                    "day": "Âë®‰∏Ä",
                    "time": "1-2ËäÇ"
                }
            ],
            "section_id": "1",
            "startWeek": 1
        }
    ],
    "result": true
}
```

### Êü•ÁúãÂ≠¶ÁîüÊàêÁª©

```cpp
std::string s = GetUTF8ForDatabase(L"/api/teacher_scoreIn/ask?section_id=1");
std::cout << s << std::endl;
http::request<http::dynamic_body> req2{ http::verb::get, s, version };
req2.set(http::field::host, host);
req2.set(http::field::user_agent, BOOST_BEAST_VERSION_STRING);
req2.set(http::field::content_type, "application/json");
req2.set(http::field::accept, "application/json");
req2.set(http::field::connection, "keep-alive");

req2.prepare_payload();
http::write(stream, req2);

// Receive the HTTP response
res.body().clear();
http::read(stream, buffer, res);
std::cout << "\n";
std::string body = beast::buffers_to_string(res.body().data());
// Write the message to standard out
std::cout << body << std::endl;
```



```cpp
{
    "course": "ËÆ°ÁÆóÊú∫ÁßëÂ≠¶ÂØºËÆ∫",
    "credit": 3,
    "initData": [
        {
            "grade": 85.0,
            "name": "Âº†‰∏â",
            "student_id": "1"
        },
        {
            "grade": 90.0,
            "name": "ÊùéÂõõ",
            "student_id": "2"
        },
        {
            "grade": 95.0,
            "name": "Áéã‰∫î",
            "student_id": "3"
        },
        {
            "grade": 82.0,
            "name": "ÂàòÂçÅ‰∫å",
            "student_id": "4"
        }
    ],
    "result": true,
    "semester": "2025Êò•",
    "t": "Âº†ÊïôÊéà"
}
```

